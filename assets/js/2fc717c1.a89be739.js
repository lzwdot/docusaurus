"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[66776],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),c=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(u.Provider,{value:t},e.children)},i={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(n),f=a,m=d["".concat(u,".").concat(f)]||d[f]||i[f]||o;return n?r.createElement(m,s(s({ref:t},p),{},{components:n})):r.createElement(m,s({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,s[1]=l;for(var c=2;c<o;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},825:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>i,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(87462),a=(n(67294),n(3905));const o={title:"JMeter\u63a5\u53e3\u6d4b\u8bd5\uff0cResponse Data\u8fd4\u56de\u4e2d\u6587\u4e71\u7801\u548cjson\u6570\u636e\u8f6c\u7801",ID:"21997",date:"2018-10-16 10:35:47",categories:["posts","notes"],tags:["posts","notes"],authors:["lzw"],slug:"/21997",type:"blog"},s=void 0,l={permalink:"/docusaurus/blog/21997",editUrl:"https://github.com/lzwdot/docusaurus/blog/2018/10-16-21997.md",source:"@site/blog/2018/10-16-21997.md",title:"JMeter\u63a5\u53e3\u6d4b\u8bd5\uff0cResponse Data\u8fd4\u56de\u4e2d\u6587\u4e71\u7801\u548cjson\u6570\u636e\u8f6c\u7801",description:"\u5f53\u6ca1\u6709\u8bbe\u7f6e\u7f16\u7801\u65f6\uff0cjmeter\u4f1a\u6309\u7167jmeter.properties\u6587\u4ef6\u4e2d\u7684sampleresult.default.encoding\u8bbe\u7f6e\u7684\u683c\u5f0f\u89e3\u6790\uff0c\u5bf9\u4e8e\u4e2d\u6587\u89e3\u6790\u4f7f\u7528ISO-8859-1\u7f16\u7801\u80af\u5b9a\u4f1a\u51fa\u9519\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bf4\u660e\u89e3\u51b3\u95ee\u9898",date:"2018-10-16T10:35:47.000Z",formattedDate:"2018\u5e7410\u670816\u65e5",tags:[{label:"posts",permalink:"/docusaurus/blog/tags/posts"},{label:"notes",permalink:"/docusaurus/blog/tags/notes"}],readingTime:1.98,hasTruncateMarker:!0,authors:[{name:"lzw.",title:"\u4e00\u4e2a web \u5f00\u53d1\u8005",url:"https://github.com/lzwdot",imageURL:"https://avatars.githubusercontent.com/u/24477920?v=4",key:"lzw"}],frontMatter:{title:"JMeter\u63a5\u53e3\u6d4b\u8bd5\uff0cResponse Data\u8fd4\u56de\u4e2d\u6587\u4e71\u7801\u548cjson\u6570\u636e\u8f6c\u7801",ID:"21997",date:"2018-10-16 10:35:47",categories:["posts","notes"],tags:["posts","notes"],authors:["lzw"],slug:"/21997",type:"blog"},prevItem:{title:"Windows\u4e0b\u7528Nginx\u914d\u7f6ehttps\u670d\u52a1\u5668",permalink:"/docusaurus/blog/22177"},nextItem:{title:"supervisor\u5b89\u88c5\u4ee5\u53ca\u914d\u7f6e\u5e38\u89c1\u95ee\u9898",permalink:"/docusaurus/blog/20415"}},u={authorsImageUrls:[void 0]},c=[{value:"\u4e2d\u6587\u4e71\u7801\u95ee\u9898",id:"\u4e2d\u6587\u4e71\u7801\u95ee\u9898",level:2},{value:"\u4fee\u6539jmeter.properties\u6587\u4ef6\uff08\u6c38\u4e45\u4fee\u6539\uff09",id:"\u4fee\u6539jmeterproperties\u6587\u4ef6\u6c38\u4e45\u4fee\u6539",level:3},{value:"\u4f7f\u7528BeanShell PostProcessor\uff08\u52a8\u6001\u4fee\u6539\uff09",id:"\u4f7f\u7528beanshell-postprocessor\u52a8\u6001\u4fee\u6539",level:3},{value:"json\u6570\u636e\u8f6c\u7801\uff08unicode\u8f6c\u6210\u4e2d\u6587\uff09",id:"json\u6570\u636e\u8f6c\u7801unicode\u8f6c\u6210\u4e2d\u6587",level:2}],p={toc:c};function i(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\u5f53\u6ca1\u6709\u8bbe\u7f6e\u7f16\u7801\u65f6\uff0cjmeter\u4f1a\u6309\u7167jmeter.properties\u6587\u4ef6\u4e2d\u7684sampleresult.default.encoding\u8bbe\u7f6e\u7684\u683c\u5f0f\u89e3\u6790\uff0c\u5bf9\u4e8e\u4e2d\u6587\u89e3\u6790\u4f7f\u7528ISO-8859-1\u7f16\u7801\u80af\u5b9a\u4f1a\u51fa\u9519\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u8bf4\u660e\u89e3\u51b3\u95ee\u9898"),(0,a.kt)("h2",{id:"\u4e2d\u6587\u4e71\u7801\u95ee\u9898"},"\u4e2d\u6587\u4e71\u7801\u95ee\u9898"),(0,a.kt)("p",null,"\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a"),(0,a.kt)("h3",{id:"\u4fee\u6539jmeterproperties\u6587\u4ef6\u6c38\u4e45\u4fee\u6539"},"\u4fee\u6539jmeter.properties\u6587\u4ef6\uff08\u6c38\u4e45\u4fee\u6539\uff09"),(0,a.kt)("p",null,"1\u3001apache-jmeter-4.0\u6253\u5f00\u5b89\u88c5\u8def\u5f84injmeter.properties\u6587\u4ef6\uff0c\u641c\u7d22\u201cdefault.encoding\u201d\u5173\u952e\u5b57\uff0c\u627e\u5230\u5982\u4e0b\u914d\u7f6e\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"# The encoding to be used if none is provided (default ISO-8859-1)\n#sampleresult.default.encoding=ISO-8859-1\n")),(0,a.kt)("p",null,"2\u3001\u5c06\u6ce8\u91ca#\u5220\u6389\uff0c\u5e76\u6539\u6210utf-8\u7f16\u7801\uff0c\u5982\u4e0b\uff1a"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"# The encoding to be used if none is provided (default utf-8)\nsampleresult.default.encoding=utf-8\n")),(0,a.kt)("p",null,"3\u3001\u91cd\u542fJMeter\u5373\u53ef"),(0,a.kt)("h3",{id:"\u4f7f\u7528beanshell-postprocessor\u52a8\u6001\u4fee\u6539"},"\u4f7f\u7528BeanShell PostProcessor\uff08\u52a8\u6001\u4fee\u6539\uff09"),(0,a.kt)("p",null,"1\u3001\u6307\u5b9a\u8bf7\u6c42\u8282\u70b9\u4e0b\uff0c\u65b0\u5efa\u540e\u7f6e\u63a7\u5236\u5668\u201dBeanShell PostProcessor\u201d"),(0,a.kt)("p",null,"2\u3001\u5176\u811a\u672c\u6846\u4e2d\u8f93\u5165\uff1aprev.setDataEncoding(\u201cUTF-8\u201d);"),(0,a.kt)("p",null,"3\u3001\u4fdd\u5b58"),(0,a.kt)("h2",{id:"json\u6570\u636e\u8f6c\u7801unicode\u8f6c\u6210\u4e2d\u6587"},"json\u6570\u636e\u8f6c\u7801\uff08unicode\u8f6c\u6210\u4e2d\u6587\uff09"),(0,a.kt)("p",null,"\u9996\u5148\u628a\u8fd4\u56de\u6570\u636e\u8bbe\u7f6e\u4e3a\u201cjson\u201d\u683c\u5f0f\u3002\u5728Jmeter\u91cc\u9762\u7684\u67e5\u770b\u7ed3\u679c\u6811\u7684\u8f93\u51fa\u6846\u5de6\u4fa7\u6709\u4e00\u680f\uff0c\u53ef\u4ee5\u5207\u6362\u54cd\u5e94\u8f93\u51fa\u7684\u683c\u5f0f\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,a.kt)("p",null,"1\u3001\u5728\u540e\u7f6e\u5904\u7406\u5668\u4e2d\u589e\u52a0 bean shell preprocessor"),(0,a.kt)("p",null,"2\u3001\u52a0\u5165script:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"prev.setDataEncoding(\"utf-8\");\nString s2=new String(prev.getResponseData(),\"UTF-8\");\n//---------------\u4e00\u4e0b\u6b65\u9aa4\u4e3a\u8f6c\u7801\u8fc7\u7a0b---------------\n        char aChar;\n        int len= s2.length();\n        StringBuffer outBuffer=new StringBuffer(len);\n        for(int x =0; x <len;){\n            aChar= s2.charAt(x++);\n            if(aChar=='\\\\'){\n                aChar= s2.charAt(x++);\n                if(aChar=='u'){\n                    int value =0;\n                    for(int i=0;i<4;i++){\n                        aChar= s2.charAt(x++);\n                        switch(aChar){\n                            case'0':\n                            case'1':\n                            case'2':\n                            case'3':\n                            case'4':\n                            case'5':\n                            case'6':\n                            case'7':\n                            case'8':\n                            case'9':\n                                value=(value <<4)+aChar-'0';\n                                break;\n                            case'a':\n                            case'b':\n                            case'c':\n                            case'd':\n                            case'e':\n                            case'f':\n                                value=(value <<4)+10+aChar-'a';\n                                break;\n                            case'A':\n                            case'B':\n                            case'C':\n                            case'D':\n                            case'E':\n                            case'F':\n                                value=(value <<4)+10+aChar-'A';\n                                break;\n                            default:\n                                throw new IllegalArgumentException(\n                                        \"Malformed   \\\\uxxxx  encoding.\");}}\n                    outBuffer.append((char) value);}else{\n                    if(aChar=='t')\n                        aChar='\\t';\n                    else if(aChar=='r')\n                    aChar='\\r';\n                    else if(aChar=='n')\n                    aChar='\\n';\n                    else if(aChar=='f')\n                    aChar='\\f';\n                    outBuffer.append(aChar);}}else\n                outBuffer.append(aChar);}\n//-----------------\u4ee5\u4e0a\u5185\u5bb9\u4e3a\u8f6c\u7801\u8fc7\u7a0b---------------------------\n//\u5c06\u8f6c\u6210\u4e2d\u6587\u7684\u54cd\u5e94\u7ed3\u679c\u5728\u67e5\u770b\u7ed3\u679c\u6811\u4e2d\u663e\u793a\nprev.setResponseData(outBuffer.toString());\n")),(0,a.kt)("p",null,"3\u3001\u5173\u95ed\u7a0b\u5e8f\uff0c\u91cd\u65b0\u542f\u52a8\uff0c\u8fd0\u884c\u811a\u672c"))}i.isMDXComponent=!0}}]);