"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[23779],{3905:(n,e,t)=>{t.d(e,{Zo:()=>p,kt:()=>m});var a=t(67294);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e){if(null==n)return{};var t,a,o=function(n,e){if(null==n)return{};var t,a,o={},r=Object.keys(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var s=a.createContext({}),l=function(n){var e=a.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},p=function(n){var e=l(n.components);return a.createElement(s.Provider,{value:e},n.children)},d={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(n,e){var t=n.components,o=n.mdxType,r=n.originalType,s=n.parentName,p=c(n,["components","mdxType","originalType","parentName"]),u=l(t),m=o,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||r;return t?a.createElement(g,i(i({ref:e},p),{},{components:t})):a.createElement(g,i({ref:e},p))}));function m(n,e){var t=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var r=t.length,i=new Array(r);i[0]=u;var c={};for(var s in e)hasOwnProperty.call(e,s)&&(c[s]=e[s]);c.originalType=n,c.mdxType="string"==typeof n?n:o,i[1]=c;for(var l=2;l<r;l++)i[l]=t[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},85135:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var a=t(87462),o=(t(67294),t(3905));const r={title:"\u767e\u5ea6\u5730\u56fe ViewAnimation \u52a8\u753b",ID:29496,date:"2022-12-03 14:49:12",authors:["lzw"],tags:["codes","data-visual"],slug:"/29496",type:"codes"},i=void 0,c={unversionedId:"data-visual/29496",id:"data-visual/29496",title:"\u767e\u5ea6\u5730\u56fe ViewAnimation \u52a8\u753b",description:"\u5730\u56fe\u52a8\u753b",source:"@site/codes/data-visual/29496.md",sourceDirName:"data-visual",slug:"/29496",permalink:"/docusaurus/codes/29496",draft:!1,tags:[{label:"codes",permalink:"/docusaurus/codes/tags/codes"},{label:"data-visual",permalink:"/docusaurus/codes/tags/data-visual"}],version:"current",frontMatter:{title:"\u767e\u5ea6\u5730\u56fe ViewAnimation \u52a8\u753b",ID:29496,date:"2022-12-03 14:49:12",authors:["lzw"],tags:["codes","data-visual"],slug:"/29496",type:"codes"},sidebar:"tutorialSidebar",previous:{title:"\u767e\u5ea6\u5730\u56fe\u7ed8\u56fe",permalink:"/docusaurus/codes/29495"},next:{title:"\u767e\u5ea6\u5730\u56fe TrackAnimation \u52a8\u753b",permalink:"/docusaurus/codes/29498"}},s={},l=[],p=(d="HtmlDemo",function(n){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.kt)("div",n)});var d;const u={toc:l};function m(n){let{components:e,...t}=n;return(0,o.kt)("wrapper",(0,a.Z)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"\u5730\u56fe\u52a8\u753b"),(0,o.kt)(p,{mdxType:"HtmlDemo"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<style>\n  html,\n  body,\n  #map {\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    margin: 0;\n  }\n\n  .BMap_cpyCtr,\n  .anchorBL {\n    display: none;\n  }\n\n  .btn-wrapper {\n    position: absolute;\n    left: 50px;\n    top: 50px;\n    z-index: 10;\n  }\n</style>\n<div id="map"></div>\n<div class="btn-wrapper">\n  <button id="start">\u5f00\u59cb\u52a8\u753b</button>\n  <button id="end">\u505c\u6b62\u52a8\u753b</button>\n</div>\n<script src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=fgfk77ozjLLfeYbttCBn0q8BjShKxsRM"><\/script>\n<script>\n  window.addEventListener("load", function () {\n    const map = new BMapGL.Map("map");\n    const point = new BMapGL.Point(116.307092, 40.054922);\n    map.centerAndZoom(point, 20); // \u4e2d\u5fc3\u548c\u7f29\u653e\n    map.enableScrollWheelZoom(true); // \u53ef\u4ee5\u7528\u6eda\u8f6e\u7f29\u653e\n\n    let heading = 0;\n    map.setHeading(heading); // \u5730\u56fe\u65cb\u8f6c\u89d2\u5ea6\n    map.setTilt(0); // \u5730\u56fe\u503e\u659c\u89d2\u5ea6\n\n    // \u589e\u52a0\u52a8\u753b\n    const keyFrames = [\n      {\n        center: new BMapGL.Point(116.307092, 40.054922),\n        zoom: 20,\n        tilt: 50,\n        heading: 0,\n        percentage: 0,\n      },\n      {\n        center: new BMapGL.Point(116.307631, 40.055391),\n        zoom: 21,\n        tilt: 70,\n        heading: 0,\n        percentage: 0.1,\n      },\n      {\n        center: new BMapGL.Point(116.306858, 40.057887),\n        zoom: 21,\n        tilt: 70,\n        heading: 0,\n        percentage: 0.25,\n      },\n      {\n        center: new BMapGL.Point(116.306858, 40.057887),\n        zoom: 21,\n        tilt: 70,\n        heading: -90,\n        percentage: 0.35,\n      },\n      {\n        center: new BMapGL.Point(116.307904, 40.058118),\n        zoom: 21,\n        tilt: 70,\n        heading: -90,\n        percentage: 0.45,\n      },\n      {\n        center: new BMapGL.Point(116.307904, 40.058118),\n        zoom: 21,\n        tilt: 70,\n        heading: -180,\n        percentage: 0.55,\n      },\n      {\n        center: new BMapGL.Point(116.308902, 40.055954),\n        zoom: 21,\n        tilt: 70,\n        heading: -180,\n        percentage: 0.75,\n      },\n      {\n        center: new BMapGL.Point(116.308902, 40.055954),\n        zoom: 21,\n        tilt: 70,\n        heading: -270,\n        percentage: 0.85,\n      },\n      {\n        center: new BMapGL.Point(116.307779, 40.055754),\n        zoom: 21,\n        tilt: 70,\n        heading: -360,\n        percentage: 0.95,\n      },\n      {\n        center: new BMapGL.Point(116.307092, 40.054922),\n        zoom: 20,\n        tilt: 50,\n        heading: -360,\n        percentage: 1,\n      },\n    ];\n    const opts = {\n      delay: 3000,\n      duration: 3000,\n      interation: 4,\n    };\n    const animation = new BMapGL.ViewAnimation(keyFrames, opts);\n    document.getElementById("start").addEventListener("click", () => {\n      map.startViewAnimation(animation);\n    });\n    document.getElementById("end").addEventListener("click", () => {\n      map.cancelViewAnimation(animation);\n    });\n    animation.addEventListener("animationstart", () => {\n      console.log("animationstart");\n    });\n    animation.addEventListener("animationiterations", () => {\n      console.log("animationiterations");\n    });\n    animation.addEventListener("animationend", () => {\n      console.log("animationend");\n    });\n    animation.addEventListener("animationcancel", () => {\n      console.log("animationcancel");\n    });\n  });\n<\/script>\n'))))}m.isMDXComponent=!0}}]);